<app-title-separator
  [title]="'trending.title.' + mediaType"></app-title-separator>
<div
  class="relative mt-5 flex h-72 w-full items-center justify-center rounded bg-gray-800 pt-4">
  <!-- Large background -->
  <div
    class="absolute mb-4 h-full w-[calc(100%+1rem)] bg-gray-800 sm:w-[calc(100%+3rem)]"></div>
  <app-swiper
    [items]="trends"
    [loading]="loading"
    [slideTemplate]="slideTemplate"></app-swiper>

  <ng-template #slideTemplate let-item="item">
    <div class="relative h-full">
      <img
        src="{{ item.posterPath | TMDBImage: PosterSizes.original }}"
        class="h-full rounded-lg"
        alt="{{ item?.title ?? item?.name }}" />

      @if (item.voteAverage) {
        <div
          class="absolute right-0 top-0 flex h-10 w-10 items-center justify-center rounded-tr-lg border-r-0 border-t-0 bg-gray-900/70">
          <span
            [ngClass]="item.voteAverage | voteColor"
            class="inline-flex items-center text-sm font-semibold text-gray-900">
            {{ item.voteAverage | average }}
            <i class="mb-2 text-sm">%</i>
          </span>
        </div>
      }
    </div>
  </ng-template>
</div>
